

<div id="toolbar"> 
	<a   class="easyui-linkbutton" onclick="order_list()">订单管理</a> 
	<a   class="easyui-linkbutton" onclick="order_num()">订单分析</a> 
	<a   class="easyui-linkbutton" onclick="order_map()">买家地图</a> 
</div>

       
   <div id="listOrder"  >
   
   			<table id="listOrder_dataInfo"></table>
   
   			<!-- 工具栏 -->
			<div id="order_search">		
				<div class="datagrid-btn-separator"></div>
				<label>请选择年：</label><select name="role" id="order_select_year">
					<option value="-1">--请选择--</option>
					
				</select>&nbsp; 
				<label>请选择月：</label><select name="role" id="order_select_month">
					<option value="-1">--请选择--</option>
					
					
					
				</select>&nbsp; 
				<label>请输入商品名：</label><input type="text" name="gname"
					id="order_select_gname" /> 
				<label>请选择状态：</label><select name="status"
					id="order_select_status">
					<option value='-1'>--请选择--</option>
					<option value='0'>已下单</option>
					<option value='1'>已付款</option>
					<option value='2'>已消费</option>
				</select> &nbsp;&nbsp;<a href="javascript:search_aorderInfo()"
					class="easyui-linkbutton" data-options="iconCls:'icon-search'">查找</a>
			</div>
   			
   
   
   
   
   
   
   
   
   
   </div>
   <div id="ordernum"  >order</div>
   <div id="map1"  >map1</div>
   
   <style>
   
   	#listOrder,#ordernum,#map1{
   		width:100%;
   		height:490px;	
   	}
   
   </style>
  <script>
  
  
  
 	function order_list(){
 		$("#listOrder").show();
 		$("#ordernum").hide();
 		$("#map1").hide();
 		
 	}
 	
 	function order_num(){
 		$("#listOrder").hide();
 		$("#ordernum").show();
 		$("#map1").hide();
 	}
 	
 	function order_map(){
 		$("#listOrder").hide();
 		$("#ordernum").hide();
 		$("#map1").show();
 	}
   
   
 	$(function(){
 		order_list();
 		
 		var year=document.getElementById("order_select_year");
		var month=document.getElementById("order_select_month");
 		var y = new Date().getFullYear();
		for(var i =y;i>(y-10); i--){
			year.options.add( new Option(i,"")  );
		}
		
	
		for(var i=1;i<13;i++){
			month.options.add( new Option(i,"")  );
		}
 		
 		
		$('#listOrder_dataInfo')
		.datagrid(
				{
					url : '../../servlet/orderServlet',
					queryParams : {
						op : "findOrdersByPage"
					},
					loadMsg : "数据加载中",
					fitColumns : true,
					striped : true,
					nowrap : true,
					pagination : true,
					fit : true,
					rownumbers : true,
					pageList : [ 2, 5, 10 ],
					pageSize : 5,
					sortName : "ordernum",
					remoteSort : false,
					columns : [ [
					     	{
									field : 'pic',
									title : '图像',
									width : 80,
									align : 'center',
									formatter : function(value, row, index) {
										if (value == "") {
											return "<img src='../../images/zanwu.jpg'  width='100px'  height='100px'  />";
										} else {
											return "<img src='../../"+value+"'  width='100px'  height='100px'  />";
										}
									}
							},
							{
								field : 'ordernum',
								title : '订单编号',
								width : 130,
								align : 'center',
								sortable : true
							},
							{
								field : 'gname',
								title : '商品名',
								width : 100,
								align : 'center'
							},
							{
								field : 'nums',
								title : '数量',
								width : 80,
								align : 'center'
							},
							{
								field : 'usid',
								title : '买家编号',
								width : 80,
								align : 'center'
							},
							{
								field : 'price',
								title : '价格',
								width : 80,
								align : 'center'
							},
							{
								field : 'stime',
								title : '下单时间',
								width : 100,
								align : 'center'
							},
							{
								field : 'statusStr',
								title : '订单状态',
								width : 80,
								align : 'center'
							},
							{
								field : '_operate',
								title : '操作',
								width : 100,
								align : 'center',
								formatter : function(val, row, index) {
									return "&nbsp;&nbsp;<a href='javascript:delteOrderInfo("+row.ordernum+")' class='icon-remove1  icon-padding' >删除订单</a>"
											+ "<a href='javascript:updateOrderInfo("+JSON.stringify(row)+")' class='icon-edit1  icon-padding'>发货</a> ";
								}
							}

					] ],
					toolbar : "#order_search"

				});
		
 	});
 	
 	
 	
 	
 	function delteOrderInfo(ordernum){
 		
 		
 	}
 	
 	
 	
 	
 	
 	
 	
 	

</script>
   
   
   
   
   
   
   